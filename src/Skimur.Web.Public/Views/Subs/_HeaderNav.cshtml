@{
    var navigationKey = ViewBag.NavigationKey;
}
<div class="header-nav">
    <div class="hidden-xs">
        <ul class="nav nav-tabs">
            <li class="@(navigationKey == "popular" ? "active" : null)"><a href="@Url.Subs()">@Title("popular")</a></li>
            <li class="@(navigationKey == "new" ? "active" : null)"><a href="@Url.SubsNew()">@Title("new")</a></li>
            @if (Request.IsAuthenticated)
            {
                <li class="@(navigationKey == "subscribed" || navigationKey == "moderating" ? "active" : null)"><a href="@Url.SubsSubscribed()">@Title("subscribed")</a></li>
            }
        </ul>
    </div>
    <div class="visible-xs-block">
        <ul class="nav nav-tabs">
            <li class="dropdown active">
                <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">
                    @Title(navigationKey) <span class="caret"></span>
                </a>
                <ul class="dropdown-menu">
                    <li class="@(navigationKey == "popular" ? "active" : null)"><a href="@Url.Subs()">@Title("popular")</a></li>
                    <li class="@(navigationKey == "new" ? "active" : null)"><a href="@Url.SubsNew()">@Title("new")</a></li>
                    @if (Request.IsAuthenticated)
                    {
                        <li class="@(navigationKey == "subscribed" || navigationKey == "moderating" ? "active" : null)"><a href="@Url.SubsSubscribed()">@Title("subscribed")</a></li>
                    }
                </ul>
            </li>
        </ul>
    </div>
</div>

@helper Title(string navigationKey)
{
    switch (navigationKey)
    {
        case "popular":
                <text>Popular</text>
            break;
        case "new":
                <text>New</text>
            break;
        case "subscribed":
                <text>My subs</text>
        break;
        case "moderating":
                <text>My subs</text>
        break;
    }
}